(this["webpackJsonpinvoice-spa"]=this["webpackJsonpinvoice-spa"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a.n(r),o=(a(13),a(14),a(1)),i=a(3),u=a(2),s=a(4),m=a.n(s),d=function(e,t){switch(t.type){case"ADD_ITEM":return[].concat(Object(u.a)(e),[{id:m()(),Description:" ",Quantity:0,Tax:0,Price:0,Total:0}]);case"ADD_DESC":return e[t.index]=Object(i.a)({},e[t.index],{Description:t.value}),Object(u.a)(e);case"ADD_QTY":return e[t.index]=Object(i.a)({},e[t.index],{Quantity:t.value,Total:t.totalValue}),Object(u.a)(e);case"ADD_TAX":return e[t.index]=Object(i.a)({},e[t.index],{Tax:t.value,Total:t.totalValue}),Object(u.a)(e);case"ADD_PRICE":return e[t.index]=Object(i.a)({},e[t.index],{Price:t.fValue,Total:t.totalValue}),Object(u.a)(e);case"REMOVE_ITEM":return e.length>1&&(e=e.filter((function(e,a){return a!==t.index}))),e;default:throw new Error}},b=Object(n.createContext)(),f=function(e){var t=Object(n.useReducer)(d,[{id:m()(),Description:"",Quantity:0,Tax:0,Price:0,Total:0}]),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement(b.Provider,{value:{data:r,dispatch:c}},e.children)};function E(e){return!("number"!==typeof+e||!isFinite(e))}function p(e,t,a){var n=function(e){if(e>0&&e<101)return+e/100+1;return 1}(a);return e>=0&&t>=0?(e*t*n).toFixed(2):""}function v(e,t){var a=e.target.parentElement.id;return t.findIndex((function(e){return e.id===a}))}function x(e){var t=(new Option).style;return t.color=e,""!==t.color}var g=function(e){var t=e.objId,a=e.item,r=Object(n.useState)(""),c=Object(o.a)(r,2),i=c[0],u=c[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],f=m[1],x=Object(n.useState)(""),g=Object(o.a)(x,2),O=g[0],y=g[1],h=Object(n.useContext)(b),j=h.data,C=h.dispatch;return l.a.createElement("li",{className:"item",key:t,id:a.id},l.a.createElement("input",{type:"text",className:"cell-desc",width:"50",value:a.Description,onChange:function(e){var t=e.target.value,a=v(e,j);C({type:"ADD_DESC",index:a,value:t})}}),l.a.createElement("input",{className:"cell-qty",width:"8",value:a.Quantity,onChange:function(e){var t=e.target.value;if(E(t)&&t>=0){var a=v(e,j);u(t);var n=p(t,O,d);C({type:"ADD_QTY",index:a,value:t,totalValue:n})}}}),l.a.createElement("input",{className:"cell-tax",width:"7",value:a.Tax,onChange:function(e){var t=e.target.value;if(E(t)&&t>=0&&t<=100){var a=v(e,j);f(t);var n=p(i,O,t);C({type:"ADD_TAX",index:a,value:t,totalValue:n})}}}),l.a.createElement("input",{className:"cell-unit-price",width:"20",value:a.Price,onChange:function(e){var t,a=e.target.value;if(E(a)&&a>=0){var n=v(e,j),l=(t=a,Number.parseFloat(t).toFixed(2));y(l);var r=p(i,a,d);C({type:"ADD_PRICE",index:n,fValue:l,totalValue:r})}}}),l.a.createElement("input",{className:"cell-total-price",width:"20",value:a.Total,readOnly:!0}),l.a.createElement("button",{key:Math.floor(100*Math.random()+1),className:"remove-button",onClick:function(e){e.preventDefault();var t=v(e,j);C({type:"REMOVE_ITEM",index:t})}},"X"))},O=function(){var e=Object(n.useContext)(b).data,t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),u=Object(o.a)(i,2),s=u[0],m=u[1],d=e.map((function(e){return e.Total})).reduce((function(e,t){return+e+ +t})),f=e.map((function(e){return e.Tax})),v=f.filter((function(e){return e>0})),x=f.reduce((function(e,t){return+e+ +t}))/v.length,g=Object(n.useState)("Sum"),O=Object(o.a)(g,2),y=O[0],h=O[1],j=Object(n.useState)("Average Tax"),C=Object(o.a)(j,2),N=C[0],w=C[1],k=Object(n.useState)("Additional Tax"),S=Object(o.a)(k,2),T=S[0],D=S[1],A=Object(n.useState)("Total Sum"),V=Object(o.a)(A,2),F=V[0],_=V[1];function I(e){var t=e.target.value;switch(e.target.name){case"noTax":h(t);break;case"tax":w(t);break;case"addTax":D(t);break;case"sumTotal":_(t)}}return l.a.createElement("div",{className:"sum"},l.a.createElement("textarea",{name:"noTax",id:"noTax",cols:"17",rows:"1",defaultValue:y,onChange:I}),l.a.createElement("textarea",{name:"noTaxValue",id:"no-tax-value",cols:"15",rows:"1",value:d,readOnly:!0}),l.a.createElement("br",null),l.a.createElement("textarea",{name:"tax",id:"tax",cols:"17",rows:"1",defaultValue:N,onChange:I}),l.a.createElement("textarea",{name:"taxValue",id:"tax-value",cols:"15",rows:"1",value:x>0?x:"0",readOnly:!0}),l.a.createElement("br",null),l.a.createElement("textarea",{name:"addTax",id:"add-tax",cols:"17",rows:"1",defaultValue:T,onChange:I}),l.a.createElement("textarea",{name:"addTaxValue",id:"add-tax-value",cols:"15",rows:"1",value:r,onChange:function(e){var t=e.target.value;if(c(t),E(t)&&t>0){var a=p(1,d,t);m(a)}else m(d)}}),l.a.createElement("br",null),l.a.createElement("textarea",{name:"sumTotal",id:"sum-total",cols:"17",rows:"1",defaultValue:F,onChange:I}),l.a.createElement("textarea",{name:"sumValue",id:"sum-value",cols:"15",rows:"1",value:s,readOnly:!0}))},y=function(){var e=Object(n.useState)("Description"),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("Quantity"),i=Object(o.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)("Tax"),d=Object(o.a)(m,2),b=d[0],f=d[1],E=Object(n.useState)("Unit Price"),p=Object(o.a)(E,2),v=p[0],x=p[1],g=Object(n.useState)("Total Price"),O=Object(o.a)(g,2),y=O[0],h=O[1];function j(e){var t=e.target.value;switch(e.target.className){case"cell-desc":r(t);break;case"cell-qty":s(t);break;case"cell-tax":f(t);break;case"cell-unit-price":x(t);break;case"cell-total-price":h(t)}}return l.a.createElement("div",{className:"item-header"},l.a.createElement("textarea",{className:"cell-desc",width:"50",rows:"1",defaultValue:a,onChange:j}),l.a.createElement("textarea",{className:"cell-qty",width:"8",rows:"1",defaultValue:u,onChange:j}),l.a.createElement("textarea",{className:"cell-tax",width:"7",rows:"1",defaultValue:b,onChange:j}),l.a.createElement("textarea",{className:"cell-unit-price",width:"20",rows:"1",defaultValue:v,onChange:j}),l.a.createElement("textarea",{className:"cell-total-price",width:"20",rows:"1",defaultValue:y,onChange:j}))},h=function(){var e=Object(n.useContext)(b),t=e.data,a=e.dispatch;var r=t.map((function(e,a){return l.a.createElement(g,{key:t.indexOf(e),item:e,index:a})}));return l.a.createElement("section",{className:"main"},l.a.createElement("div",{className:"list-container"},l.a.createElement(y,null),l.a.createElement("hr",{className:"first-line"}),l.a.createElement("ol",null,r),l.a.createElement("hr",{className:"second-line"}),l.a.createElement("button",{className:"add-button",type:"submit",onClick:function(e){e.preventDefault(),a({type:"ADD_ITEM"})}},"Add Item"),l.a.createElement(O,null)))},j=a(7),C=a.n(j),N=function(){var e=Object(n.useState)("none"),t=Object(o.a)(e,2),a=t[0],r=t[1];var c={display:a,position:"absolute",width:"300px",backgroundColor:"white",color:"black",zIndex:"+1",fontSize:"11pt",marginLeft:"50%",marginTop:"5px",padding:"5px 0 5px 0",border:"dashed 1px rgb(13, 66, 228)",borderRadius:"3px",transition:"0.4s"};return l.a.createElement(n.Fragment,null,l.a.createElement("button",{name:"info",className:"print-btn",onClick:function(e){var t=e.target.nextElementSibling.style.display;r("none"===t?"block":"none")}},"Info"),l.a.createElement("label",{htmlFor:"info",style:c},"Version 1.0.0. ",l.a.createElement("br",null)," ",l.a.createElement("br",null),"Simple Invoice application in React.js ",l.a.createElement("br",null),"-supported browsers: Chrome, Firefox, Opera ",l.a.createElement("br",null),"-all fields are changeable ",l.a.createElement("br",null),"-after reload a page, all data will be lost ",l.a.createElement("br",null),"-font size is in pt ",l.a.createElement("br",null),l.a.createElement("br",null),"Suggestions : suggestions404@gmail.com ",l.a.createElement("br",null)))},w=function(e){var t=e.componentRef;return l.a.createElement("nav",null,l.a.createElement(C.a,{trigger:function(){return l.a.createElement("button",{className:"print-btn",type:"submit"},"Print")},content:function(){return t.current},copyStyles:!0}),l.a.createElement(N,null))},k=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);return l.a.createElement("div",{className:"logo-wrap"},l.a.createElement("input",{type:"file",accept:"image/*",onChange:function(t){var a=Object(o.a)(t.target.files,1)[0];if(a){var n=new FileReader,l=e.current;l.file=a,n.onload=function(e){l.src=e.target.result},n.readAsDataURL(a),document.querySelector(".img-wrap").style.width="min-content"}},ref:t,style:{display:"none"}}),l.a.createElement("div",{className:"img-wrap",placeholder:"Click to upload Image (120x315)px",onClick:function(){return t.current.click()}},l.a.createElement("img",{alt:"",ref:e,style:{height:"100%"}})))},S=function(e,t){switch(t.type){case"CHANGE_FONT_SIZE":return e[t.index]=Object(i.a)({},e[t.index],{FontSize:t.value}),Object(u.a)(e);case"CHANGE_FONT_COLOR":return e[t.index]=Object(i.a)({},e[t.index],{FontColor:t.value}),Object(u.a)(e);case"CHANGE_BACKGROUND_COLOR":return e[t.index]=Object(i.a)({},e[t.index],{BackgroundColor:t.value}),Object(u.a)(e);default:throw new Error}},T=Object(n.createContext)(),D=function(e){var t=Object(n.useReducer)(S,[{id:m()(),className:"company-info",FontSize:"",FontColor:"",BackgroundColor:""},{id:m()(),className:"invoice-info",FontSize:"",FontColor:"",BackgroundColor:""},{id:m()(),className:"customer-info",FontSize:"",FontColor:"",BackgroundColor:""}]),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement(T.Provider,{value:{data:r,dispatch:c}},e.children)},A=function(e){var t=e.name,a=e.title,r=Object(n.useContext)(T).data,c=Object(n.useState)(a),i=Object(o.a)(c,2),u=i[0],s=i[1];return l.a.createElement("div",null,l.a.createElement("textarea",{name:t,id:t,style:function(){var e=r.filter((function(e){return e.className===t})),a={};return a.fontSize="".concat(e[0].FontSize,"pt"),a.color=e[0].FontColor,a.backgroundColor=e[0].BackgroundColor,a}(),cols:"49",rows:"8",defaultValue:u,onChange:function(e){var t=e.target.value;s(t)},onMouseOver:function(e){"none"===e.target.parentElement.previousElementSibling.style.display?e.target.parentElement.previousElementSibling.setAttribute("style","display : inline;"):e.target.parentElement.previousElementSibling.setAttribute("style","display : none;")}}))},V=function(){var e=Object(n.useContext)(T),t=e.data,a=e.dispatch,r=Object(n.useState)("none"),c=Object(o.a)(r,2),i=c[0],u=c[1],s=Object(n.useState)("none"),m=Object(o.a)(s,2),d=m[0],b=m[1],f=Object(n.useState)("none"),p=Object(o.a)(f,2),v=p[0],g=p[1];function O(e){switch(e.target.nextElementSibling.name){case"font-size":u("none"===i?"block":"none");break;case"font-color":b("none"===d?"block":"none");break;case"background":g("none"===v?"block":"none");break;default:console.log("error")}}function y(e){var n,l,r=e.target.parentElement.parentElement.parentElement.className.split(" ");switch(r=r[0]){case"company-info":n=t[0].id,l=0;break;case"invoice-info":n=t[1].id,l=1;break;case"customer-info":n=t[2].id,l=2;break;default:console.log("error")}var c=e.target.value;switch(e.target.name){case"font-size":E(c)&&a({type:"CHANGE_FONT_SIZE",index:l,id:n,value:c});break;case"font-color":x(c)&&a({type:"CHANGE_FONT_COLOR",index:l,id:n,value:c});break;case"background":x(c)&&a({type:"CHANGE_BACKGROUND_COLOR",index:l,id:n,value:c});break;default:console.log("error")}}return l.a.createElement("div",{className:"settings",style:{display:"none"},onMouseOver:function(e){e.target.display="inline"}},l.a.createElement("div",null,l.a.createElement("button",{onClick:O},"Font size"),l.a.createElement("input",{name:"font-size",type:"text",style:{display:i},onChange:y})),l.a.createElement("div",null,l.a.createElement("button",{onClick:O},"Font color"),l.a.createElement("input",{name:"font-color",type:"text",style:{display:d},onChange:y})),l.a.createElement("div",null,l.a.createElement("button",{onClick:O},"Background color"),l.a.createElement("input",{name:"background",type:"text",style:{display:v},onChange:y})))},F=function(){return l.a.createElement("div",{className:"company-info head-box"},l.a.createElement(V,null),l.a.createElement(A,{title:["Issued by\n\nName\nAdress\nCity\nCountry\nTax number"],name:"company-info"}))},_=function(){return l.a.createElement("div",{className:"invoice-info head-box"},l.a.createElement(V,null),l.a.createElement(A,{title:["INVOICE\n\nID\nIssue Date\nDelivery Date\nDue Date"],name:"invoice-info"}))},I=function(){return l.a.createElement("div",{className:"customer-info head-box"},l.a.createElement(V,null),l.a.createElement(A,{title:["Customer\n\nName\nAdress\nCity\nCountry\nTax number"],name:"customer-info"}))},R=function(){return l.a.createElement("div",{className:"header"},l.a.createElement(k,null),l.a.createElement(F,null),l.a.createElement(_,null),l.a.createElement(I,null))},z=function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("label",null,"Simple invoice produced by"," ",l.a.createElement("a",{href:"https://github.com/AlexxGH"},"https://github.com/AlexxGH")," "))},P=function(){var e=Object(n.useState)("Payment Details\n\n"),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("Terms & Conditions\n\n"),i=Object(o.a)(c,2),u=i[0],s=i[1];return l.a.createElement("div",{className:"doc-footer"},l.a.createElement("textarea",{name:"Payment",className:"text-payment",cols:"40",rows:"5",defaultValue:a,onChange:function(e){var t=e.target.value;r(t)}}),l.a.createElement("textarea",{name:"Terms",className:"text-terms",cols:"99",rows:"5",defaultValue:u,onChange:function(e){var t=e.target.value;s(t)}}))},G=function(){return l.a.createElement("div",{style:{margin:"0px"}},l.a.createElement("p",{style:{margin:"5px",padding:"10px",paddingTop:"20px",marginLeft:"140px",fontFamily:"Fontania",fontSize:"40px"}},"Invoice"))};var M=function(){var e=Object(n.useRef)();return l.a.createElement(f,null,l.a.createElement("div",{className:"App"},l.a.createElement(G,null),l.a.createElement(w,{componentRef:e}),l.a.createElement("div",{ref:e,className:"page"},l.a.createElement(D,null,l.a.createElement(R,null),l.a.createElement(h,null),l.a.createElement(P,null))),l.a.createElement(z,null)))};c.a.render(l.a.createElement(M,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.b0b21f9b.chunk.js.map